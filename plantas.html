<!DOCTYPE html>
<html>
    <head>
        <title>
            animales
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link type="text/css" href="css/jquery-ui.css" rel="Stylesheet" id="linkestilo" />      
        <script type="text/javascript" src="js/jquery-3.3.1.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>

        <link rel="stylesheet" href="css/jquery-ui.css">
        <link href="css/jquery-ui.css" rel="stylesheet" type="text/css">
        <style type="text/css">




            /* Media Queries */
            @media only screen and (max-width: 340px) {

                .container {
                    position: relative;
                    display: block;
                    float: left;
                    vertical-align: baseline;
                    margin: 0 auto;
                    padding: 80px 0 0 0;
                }

                #more-content {
                    float: left;
                    margin-right: 10px;

                }

                body h1 {
                    font-size: 18px;
                    line-height: 23px;
                } 

                .content, blockquote {  
                    display: inline;
                    margin: 0 auto;
                    padding-top: 80px;
                    vertical-align: baseline;
                }

                blockquote {
                    width: 150px;
                    margin: 15px auto;
                    font-size: 16px;
                    line-height: 21px;
                    background-color: transparent;
                }

                blockquote cite {
                    font-size: 14px;
                    line-height: 19px;
                }

                .sub-title {
                    font-size: 14px;
                    line-height: 21px;
                }

                .button, p {
                    max-width: 150px;
                    margin: 0 auto;
                    font-size: 15px;
                    line-height: 20px;
                }

                html, body, .container {
                    height: auto;
                }
            }

            body {
                /* Location of the image */
                background-image: url(img/fondo.jpg);

                /* Image is centered vertically and horizontally at all times */
                background-position: center center;

                /* Image doesn't repeat */
                background-repeat: no-repeat;

                /* Makes the image fixed in the viewport so that it doesn't move when 
                   the content height is greater than the image height */
                background-attachment: fixed;

                /* This is what makes the background image rescale based on its container's size */
                background-size: cover;

                /* Pick a solid background color that will be displayed while the background image is loading */
                background-color:#464646;

                /* SHORTHAND CSS NOTATION
                 * background: url(background-photo.jpg) center center cover no-repeat fixed;
                 */
            }

            /* For mobile devices */
            @media only screen and (max-width: 767px) {
                body {
                    background-image: url(img/fondo2.png);
                }
            }


            html,body
            {
                height:100%;
                overflow:hidden;
                background-color:#FFFFFF;
                font-family:Verdana, Arial, Helvetica, sans-serif;
                font-size:10px;
                margin:10px;
                line-height:16px;
                display: inline;
                alignment-adjust: central;
            }

            .todo{
                width: 100%;
                height: 100%;
                display: inline-block;
                background-color: #007fff;
            }
            #animales{

                height: 90%;
                width: 30%;
                display: inline-block;


            }
            #habitat{      

                width: 68%;
                height: 90%;
                background-color: #e0a800;
                display: inline-block;
                /* margin-left: 10px; */
                padding-left: 10px;
            }


            
            #col1{
                width: 32%;
                height: 100%;
                display: inline-block;
            }
            #animal{
                width: 100%;
                height: 24%;
            }

            div.desc {
                padding: 15px;
                text-align: center;
            }
            #h1{
                display: inline-block;
                width: 100%;
                height: 50%;
                padding-top: 10px;                 

            }
            .hab{
                display: inline-block;
                width: 49%;
                height: 90%;
                background-size: cover;

            }
            .fond{
                width: 100%;
                height: 90%;
            }
             .arrastrable{
            
            position: relative;
            width: 100%;
            height: 19%;
            background-size: cover;              
        }

        </style>
        <script>
            $(document).ready(function () {
                 $(".arrastrable").draggable();
                $(".arrastrable").draggable({revert: true});
                $(".arrastrable").data("soltado", false);
                
                 //soltar solo elementos rojos
            

                //voy a crear una variable para contar los elementos que estoy soltando
                $(".suelta").data("numsoltar", 0);
                //defino elementos donde se puede soltar
                $(".suelta").droppable({
                    drop: function (event, ui) {
                        if (!ui.draggable.data("soltado")) {
                            console.log(ui.class);
                            $(".arrastrable").draggable({revert: false});
                            ui.draggable.data("soltado", true);
                            //$( "#draggable" ).draggable({ revert: true });
                            var elem = $(this);
                            elem.data("numsoltar", elem.data("numsoltar") + 1)
                            //elem.html("Llevo " + elem.data("numsoltar") + " elementos soltados");
                        }
                    },
                    out: function (event, ui) {
                        if (ui.draggable.data("soltado")) {
                            $(".arrastrable").draggable({revert: true});
                            ui.draggable.data("soltado", false);
                            var elem = $(this);
                            elem.data("numsoltar", elem.data("numsoltar") - 1);
                            //elem.html("Llevo " + elem.data("numsoltar") + " elementos soltados");
                        }
                    }
                });
                
                $("#selva").droppable("option", "accept", ".selva");
                //soltar solo elementos desiertoes
                $("#bosque").droppable("option", "accept", ".bosque");

                //soltar solo elementos rojos
                $("#desierto").droppable("option", "accept", ".desierto");
                //soltar solo elementos desiertoes
                $("#tundra").droppable("option", "accept", ".tundra");
                //enlaces para crear nuevos elementos rojos y desiertoes

               
                $(".creaelemento").click(function (e) {
                    e.preventDefault();
                    var posx = aleatorio(10, 500);
                    var posy = aleatorio(80, 200);
                    var nuevoElemento = $('<div class="' + $(this).attr("href") + ' arrastrable" style="top: ' + posy + 'px; left: ' + posx + 'px;"></div>');
                    nuevoElemento.draggable();
                    $(document.body).append(nuevoElemento);
                });
            })




        </script>
    </head>
    <body>
        <div class="ui-corner-top ui-widget-header" id="menu">
            <p>
                aqui va ir el menu
            </p>

        </div>
        <div class="todo">
            <div class="animales" id="animales">
                <div id="col1">
                    <div class="desierto arrastrable"  style="background-image:url('img/cam.svg');">1                                     
                    </div>
                    <div  class="tundra arrastrable" style="background-image:url('img/foca-tundra.svg');">2

                    </div>                
                    <div  class="selva arrastrable"   style="background-image:url('img/guacamaya-selva.svg');">3

                    </div>
                    <div  class="desierto arrastrable" style="background-image:url('img/escorpion-desierto.svg');">4

                    </div>
                    <div class="bosque arrastrable" style="background-image:url('img/mapache-bosque.svg');">4

                    </div>



                </div>
                <div id="col1">
                    <div class="tundra arrastrable" style="background-image:url('img/oso-tundra.svg');">4

                    </div>
                    <div  class="desierto arrastrable" style="background-image:url('img/cam.svg');">4

                    </div>
                    <div  class="desierto arrastrable" style="background-image:url('img/serpiente-desierto.svg');">4

                    </div>
                    <div  class="tundra arrastrable" style="background-image:url('img/pinguino-tundra.svg');">4

                    </div>
                    <div  class="selva arrastrable" style="background-image:url('img/leopardo-selva.svg');">4

                    </div>

                </div>
                <div id="col1">
                    <div  class="desierto arrastrable" style="background-image:url('img/zorro-desierto.svg');">4


                    </div>
                    <div  class="tundra arrastrable" style="background-image:url('img/reno-tundra.svg');">5

                    </div>
                    <div  class="selva arrastrable" style="background-image:url('img/hipopotamo-selva.svg');">6

                    </div>
                    <div  class="bosque arrastrable" style="background-image:url('img/buho.svg');">7

                    </div>
                    <div  class="selva arrastrable" style="background-image:url('img/chimpance-selva.svg');">8

                    </div>

                </div>
            </div>






            <div  id="habitat">
                <div id="h1">
                    <div class=" suelta hab" id="selva"  style="background-image:url('img/selva.jpg');">
                        selva                    
                    </div>
                    <!--<div class="ui-widget-header hab suelta" id="droppable" style="background-image:url('img/selva.jpg');">
                        selva                    
                    </div>-->
                    <div class=" suelta hab" id="tundra"  style="background-image:url('img/tundra.jpg');">
                        tundra                   
                    </div>
                </div>
                <div id="h1">
                    <div  class=" suelta hab" id="desierto" style="background-image:url('img/desierto.jpg');">
                        desierto                    
                    </div>
                    <div class=" suelta hab"  id="bosque" style="background-image:url('img/bosque.jpg');">
                        bosque                    
                    </div>
                </div>
            </div>               
        </div>



    </body>
</html>