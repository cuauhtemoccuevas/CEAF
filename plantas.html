<!DOCTYPE html>
<html>

<head>
    <title>
        PLANTAS
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="text/javascript" src="js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="js/jquery-ui.js"></script>
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/fontawesome-all.css">
    <link rel="stylesheet" href="css/estilos.css">
    <script type="text/javascript">
        var min = 0;
        var seg = 0;
        var puntaje = 0;
        var correctos = 0;
        var tfinal = 0;
        var cond = false, det = false;
        function mueveReloj() {
            if (!det) {
                if (seg == 59) {
                    min++;
                    seg = 0;
                } else {
                    seg++;
                }
            }
            horaImprimible = min + " : " + seg;
            document.getElementById('relog').innerHTML = horaImprimible;
            setTimeout("mueveReloj()", 1000)
        }
        function fin() {
            $("#dialog").dialog();
        }
        $(document).ready(function () {
            $(".arrastrable").draggable();
            $(".arrastrable").draggable({ revert: true });
            $(".arrastrable").data("soltado", false);
            $(".suelta").droppable({
                drop: function (event, ui) {
                    if (!cond) {
                        mueveReloj();
                        cond = true;
                    }
                    if (!ui.draggable.data("soltado")) {
                        $(".arrastrable").draggable({ revert: false });
                        ui.draggable.data("soltado", true);
                        var a = ui.draggable["0"].id;
                        $("#" + a).draggable("disable");
                        correctos++;
                        puntaje += 100;
                        document.getElementById('puntaje').innerHTML = puntaje;
                        if (correctos == 15) {
                            det = true;
                            document.getElementById('modpuntos').value = puntaje;
                            document.getElementById('modtiempo').value = min + " : " + seg;
                            fin();
                        }
                    }
                },
                out: function (event, ui) {
                    if (ui.draggable.data("soltado")) {
                        $(".arrastrable").draggable({ revert: true });
                        ui.draggable.data("soltado", false);
                    }
                }
            });
            $("#selva").droppable("option", "accept", ".selva");
            $("#bosque").droppable("option", "accept", ".bosque");
            $("#desierto").droppable("option", "accept", ".desierto");
            $("#tundra").droppable("option", "accept", ".tundra");
        });
    </script>
</head>

<body>
    <div class="ui-corner-top " id="menu">
        <div id="icono_menu">
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
        <div id="atras">
            <a href="inicio.html">
                <i class="fa fa-home" aria-hidden="true"></i>
            </a>
        </div>
        <div id="tiempo">
            <img src="img/relog.png">
            <label id="relog">0:0</label>
        </div>
        <div id="puntos">
            <img src="img/puntos.png">
            <label id="puntaje">0</label>
        </div>
    </div>
    <div class="todo">
        <div class="animales" id="animales">
            <div id="col1">
                <div class="selva arrastrable" id="zapote" style="background-image:url('img/plantas/zapote-selva.jpg');">
                </div>
                <div class="tundra arrastrable" id="te" style="background-image:url('img/plantas/te-tundra.jpg');">

                </div>
                <div class="tundra arrastrable" id="sauce" style="background-image:url('img/plantas/sauce-tundra.jpg');">

                </div>
                <div class="selva arrastrable" id="platano" style="background-image:url('img/plantas/platano-selva.jpg');">

                </div>
                <div class="bosque arrastrable" id="pino" style="background-image:url('img/plantas/pino-bosque.jpg');"></div>
            </div>
            <div id="col1">
                <div class="selva arrastrable" id="orquidea" style="background-image:url('img/plantas/orquidea-selva.jpg');">

                </div>
                <div class="bosque arrastrable" id="miconia" style="background-image:url('img/plantas/Miconia_papillosa-bosque.jpg');">

                </div>
                <div class="tundra arrastrable" id="genciana" style="background-image:url('img/plantas/genciana-tundra.jpg');">

                </div>
                <div class="bosque arrastrable" id="Eupatorium" style="background-image:url('img/plantas/Eupatorium-bosque.jpg');">

                </div>
                <div class="selva arrastrable" id="cafe" style="background-image:url('img/plantas/cafe-selva.jpg');">

                </div>

            </div>
            <div id="col1">
                <div class="desierto arrastrable" id="cactus" style="background-image:url('img/plantas/cactus-desierto.jpg');">
                </div>
                <div class="selva arrastrable" id="cacao" style="background-image:url('img/plantas/cacao-selva.jpg');">
                </div>
                <div class="selva arrastrable" id="bromelia" style="background-image:url('img/plantas/bromelia-selva.jpg');">
                </div>
                <div class="desierto arrastrable" id="arbol" style="background-image:url('img/plantas/arbol-josue-desierto.jpg');">
                </div>
                <div class="desierto arrastrable" id="agave" style="background-image:url('img/plantas/agave-desierto.jpg');">
                </div>
            </div>
        </div>
        <div id="habitat">
            <div id="h1">
                <div class=" suelta hab" id="selva" style="background-image:url('img/selva.jpg');">
                </div>
                <div class=" suelta hab" id="tundra" style="background-image:url('img/tundra.jpg');">
                </div>
            </div>
            <div id="h1">
                <div class=" suelta hab" id="desierto" style="background-image:url('img/desierto.jpg');">
                </div>
                <div class=" suelta hab" id="bosque" style="background-image:url('img/bosque.jpg');">
                </div>
            </div>
        </div>
    </div>
    <div id="dialog" title="FELICIDADES">
        <p>total de puntos obtenidos:</p>
        <input type="text" id="modpuntos" name="puntos" readonly />
        <br>
        <p>tiempo total:</p>
        <input type="text" id="modtiempo" name="tiempo" readonly/>
        <br>
        <a href="plantas.html">jugar otra vez</a>
    </div>
</body>

</html>